---
title: 트러블슈팅
description: 자주 발생하는 오류를 빠르게 진단하고 재발을 줄이는 방법을 안내합니다.
---

## 빠른 진단 순서

문제가 생기면 아래 순서대로 확인하세요.

1. `server_info`로 런타임 상태 확인
2. 조회 경로(`list_collections`, `read_document`) 확인
3. 권한(`OUTLINE_ALLOWED_ACTIONS`) 확인
4. 쓰기 경로를 제어된 대상에서 점검

이 순서를 따르면 인증/연결 문제와 비즈니스 로직 문제를 빠르게 분리할 수 있습니다.

## 증상별 해결 가이드

| 증상 | 가능 원인 | 권장 조치 |
|---|---|---|
| `PERMISSION_DENIED` | 현재 권한 프로파일에 액션이 없음 | `OUTLINE_ALLOWED_ACTIONS` 조정 후 재시작 |
| `authentication_required` 또는 401/403 | 토큰 오류, 엔드포인트 불일치, 토큰 권한 부족 | `OUTLINE_API_KEY`, `OUTLINE_BASE_URL`, 토큰 스코프 재확인 |
| `CONFLICT_DETECTED` | 조회 이후 revision 변경 | 문서 재조회, 변경 머지, 최신 revision으로 재시도 |
| lease 충돌 | 다른 워커가 lease 보유 중 | 대기 후 재시도 또는 coordinator 재할당 |
| export 다운로드 불가 | 파일 상태가 아직 `complete` 아님 | `get_file_operation`으로 상태 폴링 후 재시도 |
| 일부 도구 미노출 | capability probe에서 optional endpoint 비활성화 | probe 상태와 서버 endpoint 가용성 확인 |
| CI E2E 스킵 | `OUTLINE_API_KEY` 시크릿 미설정 | GitHub Secret 설정 후 재실행 |

## 실전 점검 포인트

### 런타임 설정 확인

`server_info`에서 다음 값을 반드시 확인하세요.

- `baseUrl`
- `allowedActions`
- `capabilityProbeEnabled`
- lease 전략 및 TTL

### 조회 경로 선점검

다음 호출이 안정적으로 동작해야 합니다.

- `list_collections`
- `search_documents`
- `read_document`

조회가 실패하면 쓰기 경로 점검을 뒤로 미루고 인증/네트워크를 먼저 해결하세요.

### 동시성 문제 점검

경합 문서에서는 아래를 같이 확인하세요.

- revision 경로: `read_document` + `safe_update_document`
- lease 경로: `get_active_document_lease`

## 이슈 에스컬레이션 시 포함할 정보

내부 공유 또는 이슈 등록 시 아래 정보를 포함하면 해결 속도가 크게 빨라집니다.

- 실패한 도구명과 입력 형태
- 현재 `OUTLINE_ALLOWED_ACTIONS`
- 비밀값을 제외한 `server_info` 출력
- 정확한 에러 원문
- 발생 시각과 대상 문서/컬렉션 ID
